<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-localstorage/iron-localstorage.html">
<link rel="import" href="toggle-content-behavior.html">

<!--
`feature-toggle` Adds support for feature toggles in polymer client applications.

For a veriety of examples, refer to the demo page. for a basic example:

    <feature-toggle feature="heading">
        <h1>testing toggle</H1>
    </feature-toggle>

In this example, the header will only be shown if the feature *heading* is correctly set to true.

@demo demo/index.html 
-->

<dom-module id="feature-toggle">
  <template>
    <iron-localstorage name={{set}} id="store"
      value={{_features}}
      on-iron-localstorage-load-empty="initFeatures"
      on-iron-localstorage-load="loadFeatures"
    ></iron-localstorage>
    <template is="dom-if" if="[[_state]]" restamp="true">
      <content></content>
    </template>
  </template>

  <script>
    Polymer({
      is: 'feature-toggle',
      behaviors: [
        FeatureToggleBehaviors.ToggleContent
      ]
    });
  </script>
</dom-module>
